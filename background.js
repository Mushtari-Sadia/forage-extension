import { postData,serverhost,token } from './lib.js';

//Authorization

// const data = { username: 'tahmeed', password: 'tahmeed' };
// //POST request with body equal on data in JSON format
// fetch(serverhost + '/auth/token/', {
//   method: 'POST',
//   headers: {
//     'Content-Type': 'application/json',
//   },
//   body: JSON.stringify(data),
// })
// .then((response) => response.json())
// //Then with the data from the response in JSON...
// .then((data) => {
// 	token = data.get('token');
// 	console.log(token); // JSON data parsed by `data.json()` call
// })
// //Then with the error genereted...
// .catch((error) => {
//   console.error('Error:', error);
// });

  
//   postData(serverhost + '/auth/token/', { username: 'tahmeed', password: 'tahmeed' })
// 	.then(data => {
// 	  token = data.get('token');
// 	  console.log(token); // JSON data parsed by `data.json()` call
// 	});



	// chrome.runtime.onMessage.addListener(
	// 	function(request, sender, sendResponse) {
		  
			  
	// 		var url = serverhost + '/auth/token/' ;
			
	// 		console.log(url);
			
	// 		//var url = "http://127.0.0.1:8000/wiki/get_wiki_summary/?topic=%22COVID19%22"	
	// 		fetch(url)
	// 		.then(response => response.json())
	// 		.then(response => sendResponse({farewell: response}))
	// 		.catch(error => console.log(error))
				
	// 		return true;  // Will respond asynchronously.
		  
	// });

    